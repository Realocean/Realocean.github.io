<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <title>停留统计</title>
    <meta charset="utf-8">
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="Author" content="larry" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="../../statics/common/cascader/cascader/cascader.css" media="all">
<link rel="stylesheet" type="text/css" href="../../statics/common/layui/css/layui.css" media="all">
<link rel="stylesheet" type="text/css" href="../../statics/common/layui/css/autocomplete.css">
<link rel="stylesheet" type="text/css" href="../../statics/common/layui/css/soulTable.css">
<link rel="stylesheet" type="text/css" href="../../statics/plugins/ztree/css/metroStyle/metroStyle.css">
<link rel="stylesheet" type="text/css" href="../../statics/css/common.css">
<link rel="stylesheet" type="text/css" href="../../statics/css/font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="../../statics/css/list-search-table.css">
<script type="text/javascript" src="../../statics/plugins/jquery.min.js"></script>
<script type="text/javascript" src="../../statics/common/lib/vue.min.js"></script>
<script type="text/javascript" src="../../statics/plugins/ztree/jquery.ztree.all.min.js"></script>
<script type="text/javascript" src="../../statics/common/layui/layui.all.js"></script>
<script type="text/javascript" src="../../statics/common/js/axios.min.js"></script>
<script type="text/javascript" src="../../statics/common/js/xm-select.js"></script>
<script type="text/javascript" src="../../statics/js/common.js"></script>
<script type="text/javascript" src="../../statics/js/upload.js"></script>
<script type="text/javascript" src="../../statics/common/step/steps.js"></script>
<link rel="stylesheet" href="../../statics/css/jxcPublicAll.css"  media="all">
<link href="../../statics/common/photoviewer/dist/photoviewer.css" rel="stylesheet">
<link rel="stylesheet" href="../../statics/common/step/steps.css">
<link rel="stylesheet" href="../../statics/js/modules/cropper/cropper.css" media="all">
<link rel="stylesheet" type="text/css" href="../../statics/css/viewer.min.css">
<script src="../../statics/js/modules/cropper/cropper.min.js"></script>
<script src="../../statics/common/photoviewer/dist/photoviewer.js"></script>
<script src="../../statics/common/layui/autocomplete.js"></script>
<script  src="../../statics/js/modules/viewer/viewer.min.js"></script>
<script src="../../statics/common/print-js/print.min.js"></script>
<link rel="stylesheet" type="text/css" href="../../statics/common/print-js/print.min.css">
<script type="text/javascript" src="../../statics/common/xmselect/xm-select.js"></script>
<script type="text/javascript" src="../../statics/js/searchview.js"></script>
<script type="text/javascript" src="../../statics/js/tableedit.js"></script>
<!-- 引入组件库 -->
<link rel="stylesheet" type="text/css" href="../../statics/css/index.css">
    <script src="//api.map.baidu.com/api?v=2.0&ak=lOg1cACjgBWi6hmjj9L3KR4sATnuzfk3"></script>
    <script type="text/javascript" src="//api.map.baidu.com/library/LuShu/1.2/src/LuShu.js"></script>
    <style type="text/css">
        body, html, #allmap {
            width: 100%;
            height: 90%;
            overflow: hidden;
            margin: 0;
            font-family: "微软雅黑";
        }
    </style>
    <style>
        body, html, #app, #map {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            font-family: "微软雅黑";
        }

        .info {
            z-index: 999;
            width: auto;
            min-width: 22rem;
            padding: .75rem 1.25rem;
            margin-left: 1.25rem;
            position: fixed;
            top: 1rem;
            background-color: #fff;
            border-radius: .25rem;
            font-size: 14px;
            color: #666;
            box-shadow: 0 2px 6px 0 rgba(27, 142, 236, 0.5);
        }

        #allmap {
            width: 100%;
            height: 100vh;
            
        }
        .map-container{
            position:relative;
        }
        .top{
            position:absolute;
            top:0px;
            left:250px;
            z-index:9999;
            background:#ecf2fe;
            display: block;
            width:100%;
            padding:8px 12px;
        }
        .text-center {
            text-align: center;
        }

        /* 轨迹*/
        .map-track {
            position: absolute;
            right: 0;
            top: 40px;
            width: 560px;
            box-sizing: border-box;
            padding: 15px;
            background: rgba(255, 255, 255, 0.80);
            box-shadow: 1px 1px 5px 2px #e4edff;
            /*双击按钮背景变蓝样式禁止*/
            -moz-user-select: none; /*火狐*/
            -webkit-user-select: none; /*webkit浏览器*/
            -ms-user-select: none; /*IE10*/
            -khtml-user-select: none; /*早期浏览器*/
            user-select: none;
        }

        .track-title {
            font-weight: 500;
            font-size: 18px;
            margin-bottom: 12px;
        }

        .track-main {
            border: 1px solid #dbe2ec;
            margin-bottom: 12px;
        }

        .th, .td {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 40px;
            text-align: center;
            font-size: 14px;
        }

        .th {
            background: #f4f7fd;
            border-bottom: 1px solid #dbe2ec;
        }

        .th span, .td span {
            width: 100px;
        }

        .td {
            background: #fff;
        }

        .margin-bottom {
            margin-bottom: 12px;
        }

        .track-step {
            display: flex;
            align-items: center;

        }

        .step-slider {
            flex: 1;
        }

        .step-label {
            /*text-align: center;*/
            width: 70px;
        }

        .track-step .layui-slider {
            height: 8px;
            background: #dbe2ec;
            margin-right: 15px;
        }

        .track-step .layui-slider-wrap {
            top: -14px;
        }

        .track-step .layui-slider-wrap-btn {
            background: #3FACB3;
        }

        .timing {
            display: flex;
            /*justify-content: center;*/
        }

        .timing-inner {
            display: flex;
            align-items: center;
        }

        .timing-input {
            height: 30px;
            line-height: 1.3;
            line-height: 30px \9;
            border-width: 1px;
            border-style: solid;
            background-color: #fff;
            border-radius: 2px;
            border-color: #e6e6e6;
            box-sizing: border-box;
            padding: 0 5px;
            margin: 0 10px;
        }

        .stretch {
            box-sizing: border-box;
            position: absolute;
            top: 0;
            right: 0;
            z-index: 10;
        }

        .stretch-img {
            display: inline-block;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .fade-enter-active, .fade-leave-active {
            transition: all .5s;
        }

        .fade-enter, .fade-leave-to {
            opacity: 0;
            transform: translateX(560px);
        }

        /*    轨迹信息 2.0 */
        .cartrack-container {
            position: absolute;
            left: 0;
            top: 0;
            height: 100vh;
            width: 250px;
            box-sizing: border-box;
            padding: 0 10px;
        }

        .white {
            box-shadow: 1px 1px 5px 2px #e4edff;
            background: white;
        }

        .cartrack-label {
            font-size: 12px;
            min-width:60px;
        }

        .cartrack-timing .timing-input {
            height: 30px;
            line-height: 1.3;
            line-height: 30px \9;
            border-width: 1px;
            border-style: solid;
            background-color: #fff;
            border-radius: 2px;
            border-color: #e6e6e6;
            box-sizing: border-box;
            padding: 0 5px;
            margin: 5px 0;
            font-size: 13px;
            width:calc(100% - 60px);
        }

        .track-screen {
            display: flex;
        }

        .track-mileage {
            margin: 20px -10px;
            text-align: center;
            height: 40px;
            line-height: 40px;
        }

        .margin-bottom-20 {
            margin-bottom: 20px !important;
        }

        .vehicle-table {
            position: absolute;
            bottom: -10px;
            right: 0;
            width: calc(100vw - 250px);
        }

        .date-container {
            display: flex;
            justify-content: space-between;            
            margin: 10px 0
        }

        .date1 {
            margin: 0 5px;
            cursor: pointer;
        }
        .el-slider__bar {
            height: 8px;
            background-color: #3FACB3;
        }
        .el-slider__button {
            border: 2px solid #3FACB3;
            background-color: #3FACB3;
        }
        #signSelect{
            display: inline-block;
           
        }
        .checkbox{
            margin-left:8px;
            cursor: pointer;
        }
        .check{
            margin-top:8px;
            display: flex;
            justify-content: space-between;
        }
        .sureBtn{
            width:60px;
            border-radius: 6px;
        }
        .dateActive{
            color:#3facb3;
        }
        .lineName{
            font-weight: 700;
            margin-right:12px;
        }
        .realTime-btn{
            float:right;
            margin-right:280px;
        }
    </style>
</head>
<body>

<div id="app">
    <div class="map-container">
        <div class="top"><span class="lineName">轨迹回放</span>{{detail.carPlateNo||'--'}}(设备编号:{{detail.deviceNo||'--'}};SIM卡号:{{detail.simCardNo||'--'}}) 
            <button class="layui-btn search-btn realTime-btn"  @click="realTimeClick">实时追踪</button></div>
        <div id="allmap">
        </div>
        <div class="cartrack-container white">
            <div class="date-container">
                <span class="date1"  :class="{dateActive: dataType===0}" @click="onDate(0)">今日</span>
                <span class="date1" :class="{dateActive: dataType===-1}" @click="onDate(-1)">昨日</span>
                <span class="date1" :class="{dateActive: dataType===-2}" @click="onDate(-2)">前天</span>
            </div>
            <div class="cartrack-timing margin-bottom-20">
              <form class="layui-form">
                <p class="timing-inner">
                    <span class="cartrack-label">开始时间：</span>
                    <input type="text" class="timing-input" v-model="q.trackStartTime" id="trackStartTime"
                           placeholder="请选择开始时间" readonly>
                </p>
                <p class="timing-inner">
                    <span class="cartrack-label">结束时间：</span>
                    <input type="text" class="timing-input" v-model="q.trackEndTime" id="trackEndTime"
                           placeholder="请选择结束时间" readonly>
                </p>
                 <p class="timing-inner">
                  <span class="cartrack-label">停留标记：</span>
                      <select class="timing-input" id="sign" name="sign" lay-filter="signSelect" lay-search=""
                          v-model="q.sign">
                      <option value="">请选择</option>
                  </select>
                </p>
                </form>
                <div class="timing-inner check">
                    <div>
                        <input type="checkbox" id="isEnable" v-model="isEnable"  lay-filter="checkbox"  lay-skin="switch" :disabled="!fenceList.existFenceFlag"/>
                        <span class="cartrack-label checkbox" id="tips" @mouseenter="enter" @mouseleave="move">显示电子围栏</span>
                    </div>
                </div>
            </div>
            <div class="track-step margin-bottom-20">
                <span class="step-label cartrack-label">回放速度</span>
                <div class="step-slider" id="slideTest1"></div>
            </div>
            <div class="text-center margin-bottom-20">
                <template>
                    <button class="layui-btn search-btn" v-if="repeatState" @click="onPalay">播放</button>
                    <button class="layui-btn search-btn" v-if="isPlay" @click="play">播放</button>
                    <button class="layui-btn search-btn" v-if="suspend" @click="onPause">暂停</button>
                    <button class="layui-btn layui-btn-danger" v-if="stopState" @click="clearAll">停止</button>
                </template>
            </div>
            <div class="track-mileage layui-card layui-bg-gray" v-if="trackDetails && trackDetails.totalMileage">
                总里程：{{trackDetails.totalMileage}} km
            </div>
        </div>
    </div>
</div>
</body>

<script src="../../statics/js/modules/devicemanagement/hasCarstayStatisticsmanage.js"></script>

</html>



